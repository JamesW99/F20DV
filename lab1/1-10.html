<!--Write an update to the example above, so extra elements are added to the window to display information.  
    对上面的例子写一个更新，所以在窗口中加入额外的元素来显示信息。

    For instance, display paragraphs for the total patients with heart failure between 1-30, 31-40, 41-60, 61-100. 
    例如，显示1-30、31-40、41-60、61-100之间的心衰患者总数的段落。

    Process the data, store it in an array then pass that array to ‘selectAll()’, ‘data()’ as discussed in previous sections.
    处理数据，将其存储在一个数组中，然后将该数组传递给'selectAll()'、'data()'，如前几节所述。  -->

<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<head>
    <script src='https://d3js.org/d3.v7.min.js'></script>
</head>
Exercise 10:<br><br>

<body>
    <p></p><p></p><p></p><p></p>
</body>
 

<script>
let heartfailurecsv = 'https://raw.githubusercontent.com/akmand/datasets/master/heart_failure.csv';

function match(data) {
// var ageRange = [0, 0, 0, 0];
var ageRange = [r1 = 0, r2 = 0, r3 = 0, r4 = 0];

data.forEach(function(data)  {
    console.log(data)
    if (data.DEATH_EVENT == 1) {
        if (data.age <=30){
            r1 += 1;
        } else if(data.age <=40){
            r2 += 1;
        } else if(data.age <=60){
            r3 += 1;
        } else{
            r4 += 1;
        }
    }
});
    
    d3.select("body").append("p").text("Age between 1 to 30: " + r1);
    d3.select("body").append("p").text("Age between 31 to 40: " + r2);
    d3.select("body").append("p").text("Age between 41 to 60: " + r3);
    d3.select("body").append("p").text("Age between 61 to 100: " + r4);
    
}
// d3.csv(heartfailurecsv, function(data) {}
d3.csv(heartfailurecsv).then(match);
</script>

</html>